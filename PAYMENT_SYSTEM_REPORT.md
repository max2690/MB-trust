# üöÄ –û–¢–ß–ï–¢: –°–∏—Å—Ç–µ–º–∞ —ç–∫–≤–∞–π—Ä–∏–Ω–≥–∞ MB-TRUST

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `rating` –≤ –º–æ–¥–µ–ª—å `User`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `description` –≤ –º–æ–¥–µ–ª—å `Payment`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–≤—è–∑—å `order` –≤ –º–æ–¥–µ–ª—å `Payment`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å `PENDING_REVIEW` –≤ `ExecutionStatus`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ö–µ–º–∞ Prisma –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è

### üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è API
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å `params` –≤ `/api/track/[qrCodeId]`
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è `clickLog` –∏ `clickCount`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `budget` –Ω–∞ `reward` –≤ API –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –í—Å–µ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### üí≥ –°–∏—Å—Ç–µ–º–∞ —ç–∫–≤–∞–π—Ä–∏–Ω–≥–∞
- ‚úÖ **–ÆKassa** - 2.9% –∫–æ–º–∏—Å—Å–∏—è, –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- ‚úÖ **–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫** - 2.5% –∫–æ–º–∏—Å—Å–∏—è, 1-3 –º–∏–Ω—É—Ç—ã
- ‚úÖ –ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è –≤—Å–µ—Ö URL (–≥–æ—Ç–æ–≤—ã –∫ –∑–∞–º–µ–Ω–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–ø–ª–∞—Ç—ã
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω—ã—Ö –∏ –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π

## üß™ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### ‚úÖ API Endpoints
1. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (14 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, 13 –∑–∞–∫–∞–∑–æ–≤)
2. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (14 –Ω–∞–π–¥–µ–Ω–æ)
3. **–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã** - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
4. **–í—ã–ø–æ–ª–Ω–µ–Ω–∏—è** - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (3 –Ω–∞–π–¥–µ–Ω–æ)
5. **–ü–ª–∞—Ç–µ–∂–∏** - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (0 –Ω–∞–π–¥–µ–Ω–æ)
6. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞** - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (ID: cmh0a2vnc0001v570xl9b4lcn)
7. **–ó–∞–≥–ª—É—à–∫–∞ –ÆKassa** - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (200)
8. **–ó–∞–≥–ª—É—à–∫–∞ –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫–∞** - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (200)
9. **–£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞** - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (200)
10. **QR –∫–æ–¥** - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (307 redirect)

## üè¶ –ü–†–û–í–ê–ô–î–ï–†–´ –ü–õ–ê–¢–ï–ñ–ï–ô

### –ÆKassa
- **–ö–æ–º–∏—Å—Å–∏—è**: 2.9%
- **–õ–∏–º–∏—Ç—ã**: 100‚ÇΩ - 1,000,000‚ÇΩ
- **–í—Ä–µ–º—è**: –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ
- **–ó–∞–≥–ª—É—à–∫–∞**: `/api/payments/yookassa/stub`

### –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫
- **–ö–æ–º–∏—Å—Å–∏—è**: 2.5%
- **–õ–∏–º–∏—Ç—ã**: 100‚ÇΩ - 500,000‚ÇΩ
- **–í—Ä–µ–º—è**: 1-3 –º–∏–Ω—É—Ç—ã
- **–ó–∞–≥–ª—É—à–∫–∞**: `/api/payments/alfa/stub`

## üîÑ –ö–û–ì–î–ê –û–¢–ö–†–û–ï–¢–ï –≠–ö–í–ê–ô–†–ò–ù–ì

### –ÆKassa –¥–∞—Å—Ç –≤–∞–º:
- `shopId` –∏ `secretKey`
- URL –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
- Webhook URL

### –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫ –¥–∞—Å—Ç –≤–∞–º:
- `userName` –∏ `password`
- URL –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–ª–∞—Ç–µ–∂–µ–π
- Webhook URL

### –ß—Ç–æ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å:
```typescript
// –í src/lib/payment-providers.ts
export const PAYMENT_URLS = {
  yookassa: {
    create: 'https://api.yookassa.ru/v3/payments', // ‚Üê –†–ï–ê–õ–¨–ù–´–ô URL
    webhook: '/api/payments/yookassa/webhook',
    success: '/api/payments/yookassa/success',
    cancel: '/api/payments/yookassa/cancel'
  },
  alfa: {
    create: 'https://pay.alfabank.ru/payment/rest/register.do', // ‚Üê –†–ï–ê–õ–¨–ù–´–ô URL
    webhook: '/api/payments/alfa/webhook',
    success: '/api/payments/alfa/success',
    cancel: '/api/payments/alfa/cancel'
  }
};
```

## üéØ –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –†–ê–ë–û–¢–ï!

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π
- –í—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- –†–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π
- –ó–∞–≥–ª—É—à–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü –æ–ø–ª–∞—Ç—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –±–∞–Ω–∫–æ–≤
2. –ó–∞–º–µ–Ω–∏—Ç—å –∑–∞–≥–ª—É—à–∫–∏ –Ω–∞ —Ä–∞–±–æ—á–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhooks
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!** üéâ
